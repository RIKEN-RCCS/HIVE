
print('Render camera')

local camera = Camera()
camera:ClearColor(0,0,0,1)
camera:SetScreenSize(512, 512)
camera:SetFilename('image_kvs_hydrogen.jpg')

camera:LookAt(
	0,0,100,
	0,0,0,
	0,1,0,
	60
)


local kvsHydroData = require('KVSHydrogenVolumeData')()
kvsHydroData:SetResolution(64,64,64)

local volumedata = kvsHydroData:Object()

local kvsRayCastingRenderer = require('KVSRayCastingRenderer')()
local renderer = kvsRayCastingRenderer:Renderer()

local kvsRenderObj = require('KVSRenderObject')()
kvsRenderObj:SetObject(volumedata)
kvsRenderObj:SetRenderer(renderer)

print (kvsHydroData, kvsRayCastingRenderer, kvsRenderObj)

local core = LoadModule("RenderPluginKVS")

local RenderObject = {
   object   = kvsRenderObj:Object(),
   renderer = kvsRenderObj:Renderer()
}

core:render {RenderObject, camera, camera2}

